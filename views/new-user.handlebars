<form>
    <input name="nickname" type="text"></input>
    <input type="submit" value="submit"/>
</form>
<script>
    const form = document.querySelector("form")
    form.addEventListener("submit", handleSubmit)
    
    function handleSubmit(event) {
        console.log("SUBMIT EVENT HAPPENED", event)
        console.log(event.target.elements.nickname.value)
        event.preventDefault()
        fetch("/profile", {
            method: "post",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({nickname: event.target.elements.nickname.value})
        }).then(()=>window.location = "/logged-in")
    }
</script>